"use strict";(self.webpackChunkangular_phonebook_02=self.webpackChunkangular_phonebook_02||[]).push([[451],{4451:(G,C,s)=>{s.r(C),s.d(C,{ContactsModule:()=>$});var m=s(6895),h=s(4421),t=s(4650),r=s(4006),d=s(4596),_=s(4073),f=s(4859),l=s(9549),g=s(4144),Z=s(1576);function F(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,n.nameErrorMessage$))}}function T(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,n.emailErrorMessage$))}}function A(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,n.phoneErrorMessage$))}}let E=(()=>{class e{constructor(n,o,a){this.fb=n,this.contactsStoreService=o,this.errorGenerateService=a,this.nameErrorMessage$=this.errorGenerateService.nameErrorMessage$,this.emailErrorMessage$=this.errorGenerateService.emailErrorMessage$,this.phoneErrorMessage$=this.errorGenerateService.phoneErrorMessage$}ngOnInit(){this.initForm()}ngOnDestroy(){this.myContactsSubscription&&this.myContactsSubscription.unsubscribe()}initForm(){this.contactsForm=this.fb.group({name:["",[r.kI.required,r.kI.minLength(3),r.kI.pattern("[a-zA-Z ]*")]],email:["",[r.kI.required,r.kI.email]],phone:["",[r.kI.required,r.kI.pattern("[0-9]*")]]})}addContact(){this.contactsStoreService.setContact(this.contactsForm.value)&&(this.myContactsSubscription=this.contactsStoreService.setContact(this.contactsForm.value).subscribe(),this.contactsForm.reset())}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.qu),t.Y36(d.Z),t.Y36(_.O))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-contacts-form"]],decls:18,vars:5,consts:[["fxLayout","column",3,"formGroup"],["appearance","fill"],["matInput","","placeholder","Name","formControlName","name",3,"blur","input"],[4,"ngIf"],["matInput","","placeholder","mail@example.com","formControlName","email",3,"blur","input"],["matInput","","placeholder","123456789","formControlName","phone",3,"blur","input"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"]],template:function(n,o){1&n&&(t.TgZ(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Enter a name"),t.qZA(),t.TgZ(4,"input",2),t.NdJ("blur",function(){return o.errorGenerateService.setOnBlurErrorMessage("name",o.contactsForm.controls.name)})("input",function(){return o.errorGenerateService.setErrorMessage("name",o.contactsForm.controls.name.errors)}),t.qZA(),t.YNc(5,F,3,3,"mat-error",3),t.qZA(),t.TgZ(6,"mat-form-field",1)(7,"mat-label"),t._uU(8,"Enter an email"),t.qZA(),t.TgZ(9,"input",4),t.NdJ("blur",function(){return o.errorGenerateService.setOnBlurErrorMessage("email",o.contactsForm.controls.email)})("input",function(){return o.errorGenerateService.setErrorMessage("email",o.contactsForm.controls.email.errors)}),t.qZA(),t.YNc(10,T,3,3,"mat-error",3),t.qZA(),t.TgZ(11,"mat-form-field",1)(12,"mat-label"),t._uU(13,"Enter a phone number"),t.qZA(),t.TgZ(14,"input",5),t.NdJ("blur",function(){return o.errorGenerateService.setOnBlurErrorMessage("phone",o.contactsForm.controls.phone)})("input",function(){return o.errorGenerateService.setErrorMessage("phone",o.contactsForm.controls.phone.errors)}),t.qZA(),t.YNc(15,A,3,3,"mat-error",3),t.qZA(),t.TgZ(16,"button",6),t.NdJ("click",function(){return o.addContact()}),t._uU(17," Add contact "),t.qZA()()),2&n&&(t.Q6J("formGroup",o.contactsForm),t.xp6(5),t.Q6J("ngIf",o.contactsForm.controls.name.invalid),t.xp6(5),t.Q6J("ngIf",o.contactsForm.controls.email.invalid),t.xp6(5),t.Q6J("ngIf",o.contactsForm.controls.phone.invalid),t.xp6(1),t.Q6J("disabled",o.contactsForm.invalid))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,f.lW,l.TO,l.KE,l.hX,g.Nt,Z.xw,m.Ov]}),e})();var u=s(5412);function M(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,n.nameErrorMessage$))}}function y(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,n.emailErrorMessage$))}}function S(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,n.phoneErrorMessage$))}}let b=(()=>{class e{constructor(n,o,a,c,p){this.dialogRef=n,this.currentContact=o,this.contactsStoreService=a,this.fb=c,this.errorGenerateService=p,this.nameErrorMessage$=this.errorGenerateService.nameErrorMessage$,this.emailErrorMessage$=this.errorGenerateService.emailErrorMessage$,this.phoneErrorMessage$=this.errorGenerateService.phoneErrorMessage$}ngOnInit(){this.initForm()}ngOnDestroy(){this.myContactSubscription&&this.myContactSubscription.unsubscribe()}initForm(){this.editContactForm=this.fb.group({name:[this.currentContact.name,[r.kI.required,r.kI.minLength(3),r.kI.pattern("[a-zA-Z ]*")]],email:[this.currentContact.email,[r.kI.required,r.kI.email]],phone:[this.currentContact.phone,[r.kI.required,r.kI.pattern("[0-9]*")]]})}updateContact(){const{name:n,email:o,phone:a}=this.editContactForm.value,c=this.currentContact.id;this.contactsStoreService.updateContact({id:c,name:n,email:o,phone:a})&&this.contactsStoreService.updateContact({id:c,name:n,email:o,phone:a}).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.so),t.Y36(u.WI),t.Y36(d.Z),t.Y36(r.qu),t.Y36(_.O))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-dialog"]],decls:22,vars:6,consts:[[1,"header"],["fxLayout","column",3,"formGroup"],["appearance","fill"],["matInput","","placeholder","Name","formControlName","name",3,"blur","input"],[4,"ngIf"],["matInput","","placeholder","mail@example.com","formControlName","email",3,"input"],["matInput","","placeholder","123456789","formControlName","phone",3,"input"],["id","update-btn","mat-raised-button","","color","primary","type","submit",3,"disabled","mat-dialog-close","click"]],template:function(n,o){1&n&&(t.TgZ(0,"mat-dialog-content")(1,"h2",0),t._uU(2,"Edit contact"),t.qZA(),t.TgZ(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),t._uU(6,"Enter a name"),t.qZA(),t.TgZ(7,"input",3),t.NdJ("blur",function(){return o.errorGenerateService.setOnBlurErrorMessage("name",o.editContactForm.controls.name)})("input",function(){return o.errorGenerateService.setErrorMessage("name",o.editContactForm.controls.name.errors)}),t.qZA(),t.YNc(8,M,3,3,"mat-error",4),t.qZA(),t.TgZ(9,"mat-form-field",2)(10,"mat-label"),t._uU(11,"Enter an email"),t.qZA(),t.TgZ(12,"input",5),t.NdJ("input",function(){return o.errorGenerateService.setErrorMessage("email",o.editContactForm.controls.email.errors)}),t.qZA(),t.YNc(13,y,3,3,"mat-error",4),t.qZA(),t.TgZ(14,"mat-form-field",2)(15,"mat-label"),t._uU(16,"Enter a phone number"),t.qZA(),t.TgZ(17,"input",6),t.NdJ("input",function(){return o.errorGenerateService.setErrorMessage("phone",o.editContactForm.controls.phone.errors)}),t.qZA(),t.YNc(18,S,3,3,"mat-error",4),t.qZA()()(),t.TgZ(19,"mat-dialog-actions")(20,"button",7),t.NdJ("click",function(){return o.updateContact()}),t._uU(21," Update "),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("formGroup",o.editContactForm),t.xp6(5),t.Q6J("ngIf",o.editContactForm.controls.name.invalid),t.xp6(5),t.Q6J("ngIf",o.editContactForm.controls.email.invalid),t.xp6(5),t.Q6J("ngIf",o.editContactForm.controls.phone.invalid),t.xp6(2),t.Q6J("disabled",o.editContactForm.invalid)("mat-dialog-close",!0))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,f.lW,u.ZT,u.xY,u.H8,l.TO,l.KE,l.hX,g.Nt,Z.xw,m.Ov],styles:[".header[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}"]}),e})();var O=s(3336),v=s(6087);let q=(()=>{class e{transform(n,o){return null===n?null:""===o?n:n.filter(a=>a.name.toLowerCase().includes(o.toLowerCase()))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"filter",type:e,pure:!0}),e})();function x(e,i){1&e&&(t.TgZ(0,"div",7),t._uU(1," Nothing here so far\n"),t.qZA())}function I(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"mat-list-item",8)(1,"span",9),t._uU(2),t.qZA(),t.TgZ(3,"button",10),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.onEditOpenDialog(c))}),t._uU(4," Edit "),t.qZA(),t.TgZ(5,"button",11),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.onDelete(c.id))}),t._uU(6," Delete "),t.qZA()()}if(2&e){const n=i.$implicit;t.xp6(2),t.lnq("",n.name,": ",n.phone," ",n.email,"")}}let J=(()=>{class e{constructor(n,o){this.contactsStoreService=n,this.dialog=o,this.filterValue="",this.contacts$=this.contactsStoreService.contacts$,this.onEditOpenDialog=a=>{screen.width<600?this.dialog.open(b,{width:"100%",height:"60%",data:a}):this.dialog.open(b,{width:"50%",height:"60%",data:a})}}ngOnDestroy(){this.myContactsSubscription&&this.myContactsSubscription.unsubscribe()}clearFilter(){this.filterValue=""}onDelete(n){this.contactsStoreService.deleteContact(n)&&(this.myContactsSubscription=this.contactsStoreService.deleteContact(n).subscribe(),this.clearFilter())}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.Z),t.Y36(u.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],decls:14,vars:13,consts:[["appearance","outline"],["matInput","","placeholder","Type contact name...","name","filterValue",3,"ngModel","ngModelChange"],["filter",""],["matSuffix",""],["class","notification",4,"ngIf"],["role","list"],["role","listitem","class","item",4,"ngFor","ngForOf"],[1,"notification"],["role","listitem",1,"item"],[1,"span"],["mat-raised-button","","color","secondary","type","submit",1,"list-button",3,"click"],["mat-raised-button","","color","warn","type","submit",1,"list-button",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2,"Find contact by name"),t.qZA(),t.TgZ(3,"input",1,2),t.NdJ("ngModelChange",function(c){return o.filterValue=c}),t.qZA(),t.TgZ(5,"mat-icon",3),t._uU(6,"search"),t.qZA()(),t.YNc(7,x,2,0,"div",4),t.ALo(8,"filter"),t.ALo(9,"async"),t.TgZ(10,"mat-list",5),t.YNc(11,I,7,3,"mat-list-item",6),t.ALo(12,"filter"),t.ALo(13,"async"),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngModel",o.filterValue),t.xp6(4),t.Q6J("ngIf",0===t.xi3(8,3,t.lcZ(9,6,o.contacts$),o.filterValue).length),t.xp6(4),t.Q6J("ngForOf",t.xi3(12,8,t.lcZ(13,11,o.contacts$),o.filterValue)))},dependencies:[m.sg,m.O5,r.Fj,r.JJ,r.On,f.lW,O.Hw,v.i$,v.Tg,l.KE,l.hX,l.R9,g.Nt,m.Ov,q],styles:[".item[_ngcontent-%COMP%]{color:#fff;background-color:#4a82b0;border-radius:3px}.span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.item[_ngcontent-%COMP%]:nth-child(2n){background-color:#909a99}.item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5px}.notification[_ngcontent-%COMP%]{font-size:16px}.list-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.list-button[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}"]}),e})();const N=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-contacts"]],decls:8,vars:0,consts:[[1,"container"],[1,"headers"],[1,"contacts-form"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Phonebook"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"app-contacts-form"),t.qZA(),t.TgZ(5,"h2",1),t._uU(6,"Contacts"),t.qZA(),t._UZ(7,"app-list"),t.qZA())},dependencies:[E,J],styles:[".headers[_ngcontent-%COMP%]{text-transform:uppercase}.contacts-form[_ngcontent-%COMP%]{margin-bottom:40px}.container[_ngcontent-%COMP%]{width:85%;margin:0 auto}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:60%;margin:0 auto}}"]}),e})()}];let L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(N),h.Bz]}),e})();var U=s(3927);let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,L,U.m]}),e})()}}]);